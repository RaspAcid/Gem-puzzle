!function(){var e={1490:function(){function e(e,t,n,i,o,r,s){try{var a=e[r](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,o)}function t(t){return function(){var n=this,i=arguments;return new Promise((function(o,r){var s=t.apply(n,i);function a(t){e(s,o,r,a,l,"next",t)}function l(t){e(s,o,r,a,l,"throw",t)}a(void 0)}))}}function n(){return(n=t(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve("asyns is working");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return n.apply(this,arguments)})().then(console.log);var i,o,r,s=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};i=s,o="id",r=Date.now(),o in i?Object.defineProperty(i,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[o]=r,console.log("Util Id",s.id)},1155:function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isEmpty=!1,this.index=n,this.puzzle=t,this.width=this.puzzle.width/this.puzzle.dimension,this.height=this.puzzle.height/this.puzzle.dimension,this.element=this.createDiv(),t.element.appendChild(this.element),this.element.setAttribute("draggable",!0),this.index!==this.puzzle.dimension*this.puzzle.dimension-1?this.setImage():this.isEmpty=!0}var t,n,o;return t=e,(n=[{key:"createDiv",value:function(){var e=this,t=document.createElement("div");return t.style.backgroundSize="".concat(this.puzzle.width,"px ").concat(this.puzzle.height,"px"),t.style.border="1px solid #FFF",t.style.position="absolute",t.onclick=function(){var t=new Audio("click.mp3"),n=e.puzzle.findPosition(e.index),i=e.puzzle.findEmpty(),o=e.getXY(n),r=o.x,s=o.y,a=e.getXY(i),l=a.x,c=a.y;r!==l&&s!==c||1!==Math.abs(r-l)&&1!==Math.abs(s-c)||(e.puzzle.numberOfMovements++,e.puzzle.onSwap&&"function"==typeof e.puzzle.onSwap&&e.puzzle.onSwap(e.puzzle.numberOfMovements),e.puzzle.swapCells(n,i,!0)),t.play()},t}},{key:"setImage",value:function(){var e=this.getXY(this.index),t=e.x,n=e.y,i=this.width*t,o=this.height*n;this.element.style.width="".concat(this.width,"px"),this.element.style.height="".concat(this.height,"px"),this.element.style.backgroundImage="url(".concat(this.puzzle.imgSrc,")"),this.element.style.backgroundPosition="-".concat(i,"px -").concat(o,"px")}},{key:"setPosition",value:function(e,t,n){var i=this.getPositionFromIndex(e),o=i.left,r=i.top,s=this.getPositionFromIndex(n),a=s.left,l=s.top;t?o!==a?this.animate("left",a,o):r!==l&&this.animate("top",l,r):(this.element.style.left="".concat(o,"px"),this.element.style.top="".concat(r,"px"))}},{key:"animate",value:function(e,t,n){var i=this,o=10*Math.abs((n-t)/500),r=setInterval((function(){t<n?(t=Math.min(n,t+o))>=n&&clearInterval(r):(t=Math.max(n,t-o))<=n&&clearInterval(r),i.element.style[e]=t+"px"}),10)}},{key:"getPositionFromIndex",value:function(e){var t=this.getXY(e),n=t.x,i=t.y;return{left:this.width*n,top:this.height*i}}},{key:"getXY",value:function(e){return{x:e%this.puzzle.dimension,y:Math.floor(e/this.puzzle.dimension)}}}])&&i(t.prototype,n),o&&i(t,o),e}();function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=function(){function e(t,n,i){var o=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4;r(this,e),this.parentElement=t,this.dimension=s,this.imgSrc=n,this.width=i,this.cells=[],this.shuffling=!1,this.numberOfMovements=0,this.onSwap=function(){},this.onFinished=function(){},this.init();var a=new Image;a.onload=function(){o.height=a.height*o.width/a.width,o.element.style.width="".concat(o.width,"px"),o.element.style.height="".concat(o.height,"px"),o.setup()},a.src=this.imgSrc}var t,n,i;return t=e,(n=[{key:"init",value:function(){this.element=this.createWrapper(),this.parentElement.appendChild(this.element)}},{key:"createWrapper",value:function(){var e=document.createElement("div");return e.style.position="relative",e.style.margin="100px auto 0",e}},{key:"setup",value:function(){for(var e=0;e<this.dimension*this.dimension;e++)this.cells.push(new o(this,e));this.shuffle()}},{key:"shuffle",value:function(){this.shuffling=!0;for(var e=this.cells.length-1;e>0;e--){var t=Math.floor(Math.random()*(e+1));this.swapCells(e,t)}this.shuffling=!1}},{key:"swapCells",value:function(e,t,n){this.cells[e].setPosition(t,n,e),this.cells[t].setPosition(e);var i=[this.cells[t],this.cells[e]];this.cells[e]=i[0],this.cells[t]=i[1],!this.shuffling&&this.isAssembled()&&(console.log("Good Job"),this.onFinished&&"function"==typeof this.onFinished&&this.onFinished.call(this))}},{key:"isAssembled",value:function(){for(var e=0;e<this.cells.length;e++)if(e!==this.cells[e].index)return 6===e&&8===this.cells[e].index&&this.cells[e+1].index===e+1;return!0}},{key:"findPosition",value:function(e){return this.cells.findIndex((function(t){return t.index===e}))}},{key:"findEmpty",value:function(){return this.cells.findIndex((function(e){return e.isEmpty}))}}])&&s(t.prototype,n),i&&s(t,i),e}();function l(e){var t=e,n=(t=(e-t%1e3)/1e3)%60,i=(t=(t-n)/60)%60,o=(t-i)/60;return 1===o.toString().length&&(o="0".concat(o)),1===i.toString().length&&(i="0".concat(i)),1===n.toString().length&&(n="0".concat(n)),"".concat(o,":").concat(i,":").concat(n)}n(1490);var c,u=0,h=document.createElement("div"),p=document.createElement("div"),d=document.createElement("div"),f=document.createElement("div"),m=document.createElement("button");function v(){f.innerHTML="Time: "+l(u),u+=1e3,c=setTimeout(v,1e3)}h.id="puzzle-wrapper",p.id="info",m.id="rest-btn",document.body.append(h),document.body.append(p),document.body.append(m),document.getElementById("info").append(d),document.getElementById("info").append(f),d.innerHTML="Movements: 0",f.innerHTML="Time: 00:00:00",m.innerHTML="Restart Game";var y=Math.floor(Math.random()*Math.floor(40)),g=new a(document.querySelector("#puzzle-wrapper"),"img/".concat(y,".jpg"),600);function w(){g.shuffle(),d.innerHTML="Movements: 0",clearTimeout(c),u=0,f.innerHTML="Time: 00:00:00",g.numberOfMovements=0}m.addEventListener("click",w),g.onSwap=function(e){d.innerHTML="Movements: "+e,1===e&&v()},g.onFinished=function(){clearTimeout(c),function(e,t){var n=document.createElement("div"),i=document.createElement("div"),o=document.createElement("div"),r=document.createElement("button");n.id="modal-wrapper",i.classList="content",o.classList="congrats",r.classList="play-again",document.body.append(n),document.getElementById("modal-wrapper").append(i),document.querySelector(".content").append(o),document.querySelector(".content").append(r),o.innerHTML="Ура! Вы решили головоломку за ".concat(e," и ").concat(t," ходов."),r.innerHTML="Играть снова"}(l(u),g.numberOfMovements),document.querySelector(".play-again").onclick=function(){document.getElementById("modal-wrapper").remove();var e=document.getElementById("puzzle-wrapper");e.removeChild(e.childNodes[0]);var t=new a(document.querySelector("#puzzle-wrapper"),"img/".concat(Math.floor(Math.random()*Math.floor(40)),".jpg"),600);return w(),t.onSwap=function(e){d.innerHTML="Movements: "+e,1===e&&v(),t.onFinished()},t}}}},t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={exports:{}};return e[i](o,o.exports,n),o.exports}n.m=e,n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={179:0},t=[[1202,202],[1155,202]],i=function(){};function o(){for(var i,o=0;o<t.length;o++){for(var r=t[o],s=!0,a=1;a<r.length;a++){var l=r[a];0!==e[l]&&(s=!1)}s&&(t.splice(o--,1),i=n(n.s=r[0]))}return 0===t.length&&(n.x(),n.x=function(){}),i}n.x=function(){n.x=function(){},s=s.slice();for(var e=0;e<s.length;e++)r(s[e]);return(i=o)()};var r=function(o){for(var r,s,l=o[0],c=o[1],u=o[2],h=o[3],p=0,d=[];p<l.length;p++)s=l[p],n.o(e,s)&&e[s]&&d.push(e[s][0]),e[s]=0;for(r in c)n.o(c,r)&&(n.m[r]=c[r]);for(u&&u(n),a(o);d.length;)d.shift()();return h&&t.push.apply(t,h),i()},s=self.webpackChunk=self.webpackChunk||[],a=s.push.bind(s);s.push=r}(),n.x()}();